<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa del Bazar</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Usamos la fuente Inter para un look más moderno */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="container mx-auto p-6 max-w-7xl">
        
        <!-- Título -->
        <header class="text-center my-8">
            <h1 class="text-4xl font-bold text-gray-800">Mapa de Expositores del Bazar</h1>
            <p class="text-lg text-gray-600 mt-2">Haz clic en un stand para ver su disponibilidad y detalles.</p>
        </header>

        <!-- Contenido Principal: Mapa e Información -->
        <main class="flex flex-col lg:flex-row gap-8">

            <!-- Columna Izquierda: Información y Leyenda -->
            <aside class="lg:w-1/3 w-full lg:sticky lg:top-8 self-start">
                <!-- Panel de Información -->
                <div id="info-panel" class="bg-white p-6 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-semibold mb-4 text-gray-700">Detalles del Stand</h2>
                    <div id="info-content">
                        <p class="text-gray-500">Selecciona un stand en el mapa para ver la información.</p>
                    </div>
                    <!-- Plantilla de contenido (oculta) -->
                    <div id="info-template" class="hidden space-y-3">
                        <p class="text-3xl font-bold text-blue-600" id="info-id">Stand A1</p>
                        <p class="text-xl" id="info-status"></p>
                        <p class="text-lg" id="info-price"></p>
                        <p class="text-lg" id="info-exhibitor"></p>
                        <button id="select-button" class="w-full mt-4 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors">
                            Seleccionar este Stand
                        </button>
                    </div>
                </div>

                <!-- Leyenda -->
                <div class="bg-white p-6 rounded-lg shadow-lg mt-6">
                    <h3 class="text-xl font-semibold mb-4 text-gray-700">Leyenda</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <span class="w-5 h-5 rounded-md bg-green-200 border border-green-400 mr-3"></span>
                            <span class="text-gray-700">Disponible</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-5 h-5 rounded-md bg-yellow-200 border border-yellow-400 mr-3"></span>
                            <span class="text-gray-700">Reservado</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-5 h-5 rounded-md bg-red-200 border border-red-400 mr-3"></span>
                            <span class="text-gray-700">Ocupado</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-5 h-5 rounded-md bg-gray-200 border border-gray-400 mr-3"></span>
                            <span class="text-gray-700">Zonas Comunes</span>
                        </li>
                    </ul>
                </div>
            </aside>

            <!-- Columna Derecha: El Mapa -->
            <section id="map-container" class="lg:w-2/3 w-full bg-white p-6 rounded-lg shadow-lg">
                <!-- Los stands se generarán aquí por JavaScript -->
                <div id="stands-grid" class="grid grid-cols-5 sm:grid-cols-8 lg:grid-cols-10 gap-2">
                    <!-- Ejemplo de cómo se verá un stand (esto será generado por JS) -->
                    <!-- 
                    <div class="aspect-square bg-green-200 border border-green-400 rounded-lg flex items-center justify-center font-semibold text-green-800 cursor-pointer hover:bg-green-300 transition-all">
                        A1
                    </div> 
                    -->
                </div>
            </section>
        </main>
    </div>

    <script>
        // ------------------------------------------------------------------
        // ¡EDITA AQUÍ!
        // Define la lista de stands. Puedes añadir, eliminar o modificar
        // cualquier stand en este arreglo.
        //
        // - id: El nombre/número del stand (Ej: 'A1', 'B5', 'ENTRADA')
        // - status: 'available', 'taken', 'reserved', o 'utility' (para zonas comunes)
        // - price: (Opcional) El precio del stand
        // - exhibitor: (Opcional) Nombre del expositor si está 'taken' o 'reserved'
        // - gridSpan: (Opcional) Cuántas columnas debe ocupar (ej: 2 para 'col-span-2')
        // ------------------------------------------------------------------
        
        const standsData = [
            // Fila A
            { id: 'A1', status: 'available', price: 500 },
            { id: 'A2', status: 'available', price: 500 },
            { id: 'A3', status: 'reserved', exhibitor: 'Joyería Fina', price: 500 },
            { id: 'A4', status: 'available', price: 500 },
            { id: 'A5', status: 'taken', exhibitor: 'Postres Dulce', price: 500 },
            { id: 'A6', status: 'available', price: 500 },
            { id: 'A7', status: 'available', price: 500 },
            { id: 'A8', status: 'taken', exhibitor: 'Ropa Mágica', price: 500 },
            { id: 'A9', status: 'available', price: 500 },
            { id: 'A10', status: 'available', price: 500 },
            
            // Pasillo (Utility)
            { id: 'Pasillo 1', status: 'utility', gridSpan: 10 },

            // Fila B
            { id: 'B1', status: 'available', price: 500 },
            { id: 'B2', status: 'available', price: 500 },
            { id: 'B3', status: 'available', price: 500 },
            { id: 'B4', status: 'taken', exhibitor: 'Arte Local', price: 500 },
            { id: 'B5', status: 'available', price: 500 },
            { id: 'B6', status: 'available', price: 500 },
            { id: 'B7', status: 'reserved', exhibitor: 'Velas Aromáticas', price: 500 },
            { id: 'B8', status: 'available', price: 500 },
            { id: 'B9', status: 'available', price: 500 },
            { id: 'B10', status: 'available', price: 500 },

            // Fila C
            { id: 'C1', status: 'available', price: 450 },
            { id: 'C2', status: 'available', price: 450 },
            { id: 'C3', status: 'available', price: 450 },
            { id: 'C4', status: 'available', price: 450 },
            { id: 'C5', status: 'available', price: 450 },
            { id: 'C6', status: 'available', price: 450 },
            { id: 'C7', status: 'available', price: 450 },
            { id: 'C8', status: 'available', price: 450 },
            { id: 'C9', status: 'available', price: 450 },
            { id: 'C10', status: 'available', price: 450 },

            // Zonas comunes
            { id: 'BAÑOS', status: 'utility', gridSpan: 3 },
            { id: 'CAFÉ', status: 'utility', gridSpan: 4 },
            { id: 'BAÑOS', status: 'utility', gridSpan: 3 },
            
            // Entrada
            { id: 'ENTRADA PRINCIPAL', status: 'utility', gridSpan: 10 },
        ];

        // ------------------------------------------------------------------
        // Lógica de la aplicación (No necesitas editar debajo de esta línea)
        // ------------------------------------------------------------------
        
        document.addEventListener('DOMContentLoaded', () => {
            const standsGrid = document.getElementById('stands-grid');
            const infoContent = document.getElementById('info-content');
            const infoTemplate = document.getElementById('info-template');
            const infoId = document.getElementById('info-id');
            const infoStatus = document.getElementById('info-status');
            const infoPrice = document.getElementById('info-price');
            const infoExhibitor = document.getElementById('info-exhibitor');
            const selectButton = document.getElementById('select-button');

            let selectedStandDiv = null;

            // Función para renderizar el mapa
            function renderMap() {
                standsGrid.innerHTML = ''; // Limpiar el mapa
                
                standsData.forEach(stand => {
                    const standDiv = document.createElement('div');
                    let classes = 'aspect-square rounded-lg flex items-center justify-center font-semibold text-sm p-1 transition-all';
                    
                    // Aplicar estilos según el estado
                    switch(stand.status) {
                        case 'available':
                            classes += ' bg-green-200 border border-green-400 text-green-800 cursor-pointer hover:bg-green-300 hover:shadow-md';
                            break;
                        case 'reserved':
                            classes += ' bg-yellow-200 border border-yellow-400 text-yellow-800 cursor-pointer hover:bg-yellow-300 hover:shadow-md';
                            break;
                        case 'taken':
                            classes += ' bg-red-200 border border-red-400 text-red-800 cursor-not-allowed opacity-75';
                            break;
                        case 'utility':
                            classes += ' bg-gray-200 border border-gray-400 text-gray-700 text-center font-bold uppercase tracking-wider';
                            break;
                    }
                    
                    // Aplicar 'col-span' si se define
                    if (stand.gridSpan) {
                        classes += ` col-span-${stand.gridSpan}`;
                        // Para zonas comunes, quitamos el aspect-square para que no sean tan altas
                        if(stand.status === 'utility') {
                            classes = classes.replace('aspect-square', 'py-4');
                        }
                    } else {
                         classes += ' col-span-1';
                    }

                    standDiv.className = classes;
                    standDiv.textContent = stand.id;

                    // Añadir evento de clic solo si no es 'utility' o 'taken'
                    if (stand.status !== 'utility' && stand.status !== 'taken') {
                        standDiv.addEventListener('click', () => {
                            showStandInfo(stand, standDiv);
                        });
                    }

                    standsGrid.appendChild(standDiv);
                });
            }

            // Función para mostrar la información del stand
            function showStandInfo(stand, standDiv) {
                // Resaltar stand seleccionado
                if (selectedStandDiv) {
                    selectedStandDiv.classList.remove('ring-4', 'ring-blue-500', 'shadow-xl');
                }
                standDiv.classList.add('ring-4', 'ring-blue-500', 'shadow-xl');
                selectedStandDiv = standDiv;

                // Ocultar placeholder y mostrar plantilla
                infoContent.classList.add('hidden');
                infoTemplate.classList.remove('hidden');
                
                // Llenar datos
                infoId.textContent = `Stand ${stand.id}`;
                
                // Lógica de estado
                if (stand.status === 'available') {
                    infoStatus.textContent = 'Estado: Disponible';
                    infoStatus.className = 'text-xl font-semibold text-green-600';
                    selectButton.textContent = 'Seleccionar este Stand';
                    selectButton.disabled = false;
                    selectButton.className = 'w-full mt-4 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors';
                } else if (stand.status === 'reserved') {
                    infoStatus.textContent = 'Estado: Reservado';
                    infoStatus.className = 'text-xl font-semibold text-yellow-600';
                    selectButton.textContent = 'Reservado';
                    selectButton.disabled = true;
                    selectButton.className = 'w-full mt-4 bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg cursor-not-allowed';
                }

                // Precio
                if (stand.price) {
                    infoPrice.textContent = `Precio: $${stand.price} MXN`;
                    infoPrice.classList.remove('hidden');
                } else {
                    infoPrice.classList.add('hidden');
                }
                
                // Expositor (si está reservado)
                if (stand.exhibitor && stand.status === 'reserved') {
                    infoExhibitor.textContent = `Reservado por: ${stand.exhibitor}`;
                    infoExhibitor.classList.remove('hidden');
                } else {
                    infoExhibitor.classList.add('hidden');
                }
            }
            
            // Renderizar el mapa al cargar la página
            renderMap();
        });
    </script>
</body>
</html>